â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘        âœ… CONFIGURACIÃ“N COOLIFY COMPLETADA                    â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ ARCHIVOS CREADOS/MODIFICADOS

  ConfiguraciÃ³n Docker:
    âœ… Dockerfile (optimizado para PostgreSQL)
    âœ… .dockerignore (optimizado)
    âœ… docker-compose.yml (testing local)
    âœ… bin/docker-entrypoint (actualizado)

  ConfiguraciÃ³n Base de Datos:
    âœ… config/database.yml (PostgreSQL en producciÃ³n)
    âœ… Gemfile (aÃ±adido gem 'pg' para producciÃ³n)

  DocumentaciÃ³n:
    âœ… COOLIFY_DEPLOYMENT.md (guÃ­a completa 10KB)
    âœ… COOLIFY_QUICKSTART.md (guÃ­a rÃ¡pida 3KB)
    âœ… .env.production.example (variables necesarias)
    âœ… coolify.yaml (configuraciÃ³n Coolify)

  Scripts:
    âœ… scripts/deploy-helper.sh (helper interactivo)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ—„ï¸ BASE DE DATOS EXTERNA

  Opciones Recomendadas (Free Tier):

    1. Supabase (Recomendado)
       - Free tier: 500MB
       - Auto-backup
       - Dashboard incluido
       â†’ https://supabase.com

    2. Neon
       - Free tier: 512MB
       - Auto-scaling
       - Serverless
       â†’ https://neon.tech

    3. Railway
       - $5/mes de crÃ©dito
       - FÃ¡cil configuraciÃ³n
       â†’ https://railway.app

  Formato DATABASE_URL:
    postgresql://usuario:password@host:5432/database

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ VARIABLES DE ENTORNO REQUERIDAS

  MÃ­nimo para producciÃ³n:

    RAILS_ENV=production
    SECRET_KEY_BASE=genera_con_rails_secret
    DATABASE_URL=postgresql://...
    GOOGLE_CLIENT_ID=tu_client_id
    PORT=3000
    RAILS_LOG_TO_STDOUT=true

  Ver .env.production.example para todas las opciones

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ PASOS PARA DEPLOYMENT

  1. Crear Base de Datos PostgreSQL
     â†’ Supabase o Neon (5 minutos)

  2. Generar SECRET_KEY_BASE
     $ rails secret

  3. Configurar Coolify
     â†’ New Application â†’ Git Repository
     â†’ Environment Variables
     â†’ Domain: api.truek.xyz

  4. Deploy
     â†’ Click "Deploy"
     â†’ Esperar 2-3 minutos

  5. Verificar
     $ curl https://api.truek.xyz/up

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ§ª TESTING LOCAL

  Build Docker:
    $ docker build -t truek-api:test .

  Run con docker-compose:
    $ docker-compose up

  Helper interactivo:
    $ ./scripts/deploy-helper.sh

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š RECURSOS RECOMENDADOS

  Desarrollo/Staging:
    CPU: 0.5 vCPU
    RAM: 512MB
    Storage: 1GB

  ProducciÃ³n:
    CPU: 1 vCPU
    RAM: 1GB
    Storage: 2GB

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… CHECKLIST PRE-DEPLOYMENT

  Base de Datos:
    [ ] PostgreSQL creado (Supabase/Neon)
    [ ] DATABASE_URL obtenido
    [ ] ConexiÃ³n verificada

  ConfiguraciÃ³n:
    [ ] SECRET_KEY_BASE generado
    [ ] GOOGLE_CLIENT_ID configurado
    [ ] Variables de entorno preparadas

  Dominio:
    [ ] DNS configurado (api.truek.xyz â†’ Coolify IP)
    [ ] HTTPS habilitado en Coolify

  Coolify:
    [ ] AplicaciÃ³n creada
    [ ] Repositorio conectado
    [ ] Variables configuradas
    [ ] Health check configurado (/up)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ§ª VERIFICACIÃ“N POST-DEPLOYMENT

  1. Health Check:
     $ curl https://api.truek.xyz/up
     â†’ Debe retornar: {"status":"ok"}

  2. CORS:
     $ curl -I https://api.truek.xyz/up \
       -H "Origin: https://truek.xyz"
     â†’ Debe incluir: Access-Control-Allow-Origin

  3. Database:
     En Coolify â†’ Execute Command:
     $ rails runner "puts User.count"

  4. Logs:
     Coolify â†’ Logs
     â†’ Buscar: "Booting Puma"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š DOCUMENTACIÃ“N

  Quick Start:
    â†’ COOLIFY_QUICKSTART.md (10 minutos)

  GuÃ­a Completa:
    â†’ COOLIFY_DEPLOYMENT.md (detallada)

  Variables:
    â†’ .env.production.example

  Helper:
    â†’ scripts/deploy-helper.sh

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ†˜ TROUBLESHOOTING RÃPIDO

  Database connection failed:
    â†’ Verificar DATABASE_URL
    â†’ Verificar que DB permita conexiones externas

  SECRET_KEY_BASE missing:
    â†’ Ejecutar: rails secret
    â†’ AÃ±adir en Coolify Environment Variables

  Port already in use:
    â†’ Verificar PORT=3000 en variables
    â†’ Verificar mapping en Coolify

  CORS not working:
    â†’ Verificar HTTPS activo
    â†’ Verificar dominio en cors.rb

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ PRÃ“XIMOS PASOS

  1. âœ… Deploy backend en Coolify
  2. Configurar Google Cloud Console con dominio
  3. Deploy frontend en truek.xyz
  4. Conectar frontend con backend
  5. Â¡Lanzar! ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… TESTS

  48 examples, 0 failures âœ…

  ConfiguraciÃ³n verificada y lista para producciÃ³n.

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘           Backend: 100% Ready for Coolify Deploy             â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
